<!-- Generated by SpecStory -->

# What does the VoiceControl module do? (2025-09-14 20:01Z)

_**User (2025-09-14 13:12Z)**_

@VoiceControl.tsx what this module do

---

_**Assistant**_

Looking at the `VoiceControl.tsx` file, this module provides **voice control functionality** for the smart classroom IoT system. Here's what it does:

## Main Purpose
The VoiceControl component enables users to control the smart classroom devices (lighting and climate control) using voice commands instead of manual buttons or sliders.

## Key Features

### 1. **Voice Recognition Setup**
- Uses the Web Speech API (`SpeechRecognition` or `webkitSpeechRecognition`)
- Supports continuous listening with interim results
- Configured for English (en-US) language
- Handles browser compatibility and error states

### 2. **Dual Module Support**
The component can control two different modules:
- **Lighting Module**: Controls lights and brightness
- **Climate Module**: Controls fans and fan speed

### 3. **Voice Commands for Lighting**
- `"Turn on light"` / `"Lights on"` → Turns lights on
- `"Turn off light"` / `"Lights off"` → Turns lights off
- `"Increase brightness"` / `"Brighter"` → Increases brightness by 50%
- `"Lower the light"` / `"Dim"` → Decreases brightness by 50%
- `"Maximum brightness"` / `"Full"` → Sets to maximum brightness (255)
- `"Minimum brightness"` / `"Low"` → Sets to minimum brightness
- `"Medium brightness"` / `"Mid"` → Sets to medium brightness

### 4. **Voice Commands for Climate Control**
- `"Turn on fan"` / `"Start fan"` → Turns fan on
- `"Turn off fan"` / `"Stop fan"` → Turns fan off
- `"Increase fan speed"` → Increases fan speed by 50%
- `"Lower fan speed"` / `"Fan low"` → Decreases fan speed by 50%
- `"Fan maximum speed"` / `"Fan high"` → Sets fan to maximum speed
- `"Fan medium speed"` / `"Fan mid"` → Sets fan to medium speed

### 5. **Mode Control**
- `"Auto"` / `"Automatic"` → Switches to automatic mode
- `"Manual"` → Switches to manual mode

### 6. **User Interface**
- **Start/Stop Button**: Toggle voice recognition on/off
- **Live Transcript**: Shows what the user is saying in real-time
- **Command Examples**: Displays suggested voice commands
- **Error Handling**: Shows helpful error messages for microphone permissions or network issues
- **Status Indicators**: Shows "Listening..." when active

### 7. **Error Handling**
- Handles microphone permission issues
- Manages network connectivity problems
- Prevents rapid clicking during recognition state changes
- Gracefully handles unsupported browsers

## How It Works
1. User clicks the start button to begin voice recognition
2. The component listens for speech input
3. When speech is detected, it processes the command through `processVoiceCommand()`
4. Commands are parsed and sent to the appropriate control functions (`onLightingControl` or `onClimateControl`)
5. The component provides visual feedback and command suggestions

This module essentially makes the smart classroom system **hands-free** and **accessible** through natural voice commands, enhancing the user experience for both lighting and climate control systems.

---

